{"version":3,"file":"CourseDetail-C0Ke3I3O.js","sources":["../../../../frontend/src/components/CourseCardOverlay.vue","../../../../frontend/src/components/Modals/ReviewModal.vue","../../../../frontend/src/components/CourseReviews.vue","../../../../frontend/src/pages/CourseDetail.vue"],"sourcesContent":["<template>\n\t<div class=\"border-2 rounded-md min-w-[23rem] course-start-div\">\n\t\t<!-- <iframe\n\t\t\tv-if=\"course.data.video_link\"\n\t\t\t:src=\"video_link\"\n\t\t\tclass=\"rounded-t-md min-h-56 w-full\"\n\t\t/> -->\n\t\t<div\n      class=\"course-image rounded-sm\"\n      :class=\"{ 'default-image': !course.data.image }\"\n      :style=\"{ backgroundImage: 'url(\\'' + encodeURI(course.data.image) + '\\')' }\"\n    >\n      <div v-if=\"!course.data.image\" class=\"image-placeholder\">\n        {{ course.data.title?.[0] || 'C' }}\n      </div>\n    </div>\n\t\t<div class=\"p-5\">\n\t\t\t<div v-if=\"course.data.price\" class=\"text-2xl font-semibold mb-3\">\n\t\t\t\t{{ course.data.price }}\n\t\t\t</div>\n\t\t\t<router-link v-if=\"course.data.membership\" :to=\"{\n\t\t\t\tname: 'Lesson',\n\t\t\t\tparams: {\n\t\t\t\t\tcourseName: course.name,\n\t\t\t\t\tchapterNumber: course.data.current_lesson\n\t\t\t\t\t\t? course.data.current_lesson.split('-')[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\t\tlessonNumber: course.data.current_lesson\n\t\t\t\t\t\t? course.data.current_lesson.split('-')[1]\n\t\t\t\t\t\t: 1,\n\t\t\t\t},\n\t\t\t}\">\n\t\t\t\t<Button variant=\"solid\" size=\"lg\" class=\"w-full orange-btn\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ __('Continue Learning') }}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t</router-link>\n\t\t\t<router-link v-else-if=\"course.data.paid_course\" :to=\"{\n\t\t\t\tname: 'Billing',\n\t\t\t\tparams: {\n\t\t\t\t\ttype: 'course',\n\t\t\t\t\tname: course.data.name,\n\t\t\t\t},\n\t\t\t}\">\n\t\t\t\t<Button variant=\"solid\" size=\"md\" class=\"w-full\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ __('Buy this course') }}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t</router-link>\n\t\t\t<div v-else-if=\"course.data.disable_self_learning\"\n\t\t\t\tclass=\"bg-surface-blue-2 text-blue-900 text-sm rounded-md py-1 px-3\">\n\t\t\t\t{{ __('Contact the Administrator to enroll for this course.') }}\n\t\t\t</div>\n\t\t\t<Button v-else @click=\"enrollStudent()\" variant=\"solid\" class=\"w-full\" size=\"md\">\n\t\t\t\t<span>\n\t\t\t\t\t{{ __('Start Course') }}\n\t\t\t\t</span>\n\t\t\t</Button>\n\t\t\t<Button v-if=\"canGetCertificate\" @click=\"fetchCertificate()\" variant=\"subtle\" class=\"w-full mt-2\" size=\"md\">\n\t\t\t\t{{ __('Get Certificate') }}\n\t\t\t</Button>\n\t\t\t<router-link v-if=\"user?.data?.is_moderator || is_instructor()\" :to=\"{\n\t\t\t\tname: 'CourseForm',\n\t\t\t\tparams: {\n\t\t\t\t\tcourseName: course.data.name,\n\t\t\t\t},\n\t\t\t}\">\n\t\t\t\t<Button variant=\"subtle\" class=\"w-full mt-2\" size=\"md\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ __('Edit') }}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t\t\n\t\t\t</router-link>\n\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div class=\"flex justify-between mb-8\">\n\t\t\t\t\t<button class=\"flex items-center gap-2 text-gray-600 hover:text-gray-900\">\n\t\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\td=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tAdd to wishlist\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"flex items-center gap-2 text-gray-600 hover:text-gray-900\">\n\t\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\td=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tShare\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-8 font-medium text-ink-gray-9\">\n\t\t\t\t\t{{ __('This course has:') }}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"flex items-center text-ink-gray-9\">\n\t\t\t\t\t<BookOpen class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ course.data.lessons }} {{ __('Lessons') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center text-ink-gray-9\">\n\t\t\t\t\t<Users class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ formatAmount(course.data.enrollments) }}\n\t\t\t\t\t\t{{ __('Enrolled Students') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"parseInt(course.data.rating) > 0\" class=\"flex items-center text-ink-gray-9\">\n\t\t\t\t\t<Star class=\"h-4 w-4 stroke-1.5 fill-orange-500 text-gray-50\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ course.data.rating }} {{ __('Rating') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"space-y-6 mt-4\">\n\t\t\t\t\t<h3 class=\"text-lg font-semibold text-gray-900\">Course details</h3>\n\n\n\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t<div class=\"flex justify-between items-center border-b border-gray-200 pb-2\">\n\t\t\t\t\t\t\t<h4 class=\"flex items-center text-sm font-medium text-gray-700\">\n\t\t\t\t\t\t\t\t<Clock7 class=\"w-5 h-5 mr-2\" /> Duration\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-gray-700\">14 Hours</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Lectures -->\n\t\t\t\t\t\t<div class=\"flex justify-between items-center border-b border-gray-200 pb-2\">\n\t\t\t\t\t\t\t<h4 class=\"flex items-center text-sm font-medium text-gray-700\">\n\t\t\t\t\t\t\t\t<BookOpen class=\"w-5 h-5 mr-2\" /> Lectures\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-gray-700\">18</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Video -->\n\t\t\t\t\t\t<div class=\"flex justify-between items-center border-b border-gray-200 pb-2\">\n\t\t\t\t\t\t\t<h4 class=\"flex items-center text-sm font-medium text-gray-700\">\n\t\t\t\t\t\t\t\t<Video class=\"w-5 h-5 mr-2\" /> Video\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-gray-700\">8 Hours</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Quizzes -->\n\t\t\t\t\t\t<div class=\"flex justify-between items-center border-b border-gray-200 pb-2\">\n\t\t\t\t\t\t\t<h4 class=\"flex items-center text-sm font-medium text-gray-700\">\n\t\t\t\t\t\t\t\t<SquareCheckBig class=\"w-5 h-5 mr-2\" /> Quizzes\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-gray-700\">9</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Level -->\n\t\t\t\t\t\t<div class=\"flex justify-between items-center border-b border-gray-200 pb-2\">\n\t\t\t\t\t\t\t<h4 class=\"flex items-center text-sm font-medium text-gray-700\">\n\t\t\t\t\t\t\t\t<Rows3 class=\"w-5 h-5 mr-2\" /> Level\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-gray-700\">Beginner</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { BookOpen, Users, Star, Clock7, Video, SquareCheckBig, Rows3 } from 'lucide-vue-next'\nimport { computed, inject } from 'vue'\nimport { Button, createResource } from 'frappe-ui'\nimport { showToast, formatAmount } from '@/utils/'\nimport { capture } from '@/telemetry'\nimport { useRouter } from 'vue-router'\nconst router = useRouter()\nconst user = inject('$user')\n\nconst props = defineProps({\n\tcourse: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n\nconst video_link = computed(() => {\n\tif (props.course.data.video_link) {\n\t\treturn 'https://www.youtube.com/embed/' + props.course.data.video_link\n\t}\n\treturn null\n})\n\nfunction enrollStudent() {\n\tif (!user.data) {\n\t\tshowToast(\n\t\t\t__('Please Login'),\n\t\t\t__('You need to login first to enroll for this course'),\n\t\t\t'alert-circle'\n\t\t)\n\t\tsetTimeout(() => {\n\t\t\twindow.location.href = `/login?redirect-to=${window.location.pathname}`\n\t\t}, 2000)\n\t} else {\n\t\tconst enrollStudentResource = createResource({\n\t\t\turl: 'lms.lms.doctype.lms_enrollment.lms_enrollment.create_membership',\n\t\t})\n\t\tenrollStudentResource\n\t\t\t.submit({\n\t\t\t\tcourse: props.course.data.name,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tcapture('enrolled_in_course', {\n\t\t\t\t\tcourse: props.course.data.name,\n\t\t\t\t})\n\t\t\t\tshowToast(\n\t\t\t\t\t__('Success'),\n\t\t\t\t\t__('You have been enrolled in this course'),\n\t\t\t\t\t'check'\n\t\t\t\t)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\trouter.push({\n\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tcourseName: props.course.data.name,\n\t\t\t\t\t\t\tchapterNumber: 1,\n\t\t\t\t\t\t\tlessonNumber: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t}, 2000)\n\t\t\t})\n\t}\n}\n\nconst is_instructor = () => {\n\tlet user_is_instructor = false\n\tprops.course.data.instructors.forEach((instructor) => {\n\t\tif (!user_is_instructor && instructor.name == user.data?.name) {\n\t\t\tuser_is_instructor = true\n\t\t}\n\t})\n\treturn user_is_instructor\n}\n\nconst canGetCertificate = computed(() => {\n\tif (\n\t\tprops.course.data?.enable_certification &&\n\t\tprops.course.data?.membership?.progress == 100\n\t) {\n\t\treturn true\n\t}\n\treturn false\n})\n\nconst certificate = createResource({\n\turl: 'lms.lms.doctype.lms_certificate.lms_certificate.create_certificate',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tcourse: values.course,\n\t\t}\n\t},\n\tonSuccess(data) {\n\t\twindow.open(\n\t\t\t`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${data.name\n\t\t\t}&format=${encodeURIComponent(data.template)}`,\n\t\t\t'_blank'\n\t\t)\n\t},\n})\n\nconst fetchCertificate = () => {\n\tcertificate.submit({\n\t\tcourse: props.course.data?.name,\n\t\tmember: user.data?.name,\n\t})\n}\n</script>\n\n<style scoped>\n.course-image {\n\theight: 168px;\n\twidth: 100%;\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n.default-image {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tbackground-color: theme('colors.green.100');\n\tcolor: theme('colors.green.600');\n}\n\n.image-placeholder {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n\tfont-size: 5rem;\n\tcolor: theme('colors.gray.700');\n\tfont-weight: 600;\n}\n\n.orange-btn {\n\tbackground-color: #e34d00;\n\tcolor: #fff;\n\tmin-height: 60px;\n  padding: 14px 20px;\n  align-items: center;\n  text-align: center;\n  text-decoration: none;\n  color: #fff;\n\n}\n\n.course-start-div {\n\tbackground-color: #fff;\n\n}\n</style>\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Write a Review'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Submit',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => submitReview(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-ink-gray-5\">\n\t\t\t\t\t\t{{ __('Rating') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Rating v-model=\"review.rating\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-ink-gray-5\">\n\t\t\t\t\t\t{{ __('Review') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Textarea type=\"text\" size=\"md\" rows=\"5\" v-model=\"review.review\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport { Dialog, Textarea, createResource } from 'frappe-ui'\nimport { defineModel, reactive } from 'vue'\nimport Rating from '@/components/Controls/Rating.vue'\nimport { createToast } from '@/utils/'\n\nconst show = defineModel()\nconst reviews = defineModel('reloadReviews')\nconst hasReviewed = defineModel('hasReviewed')\n\nlet review = reactive({\n\treview: '',\n\trating: 0,\n})\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst createReview = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'LMS Course Review',\n\t\t\t\tcourse: props.courseName,\n\t\t\t\t...values,\n\t\t\t},\n\t\t}\n\t},\n})\nfunction submitReview(close) {\n\treview.rating = review.rating / 5\n\tcreateReview.submit(review, {\n\t\tvalidate() {\n\t\t\tif (!review.rating) {\n\t\t\t\treturn 'Please enter a rating.'\n\t\t\t}\n\t\t},\n\t\tonSuccess() {\n\t\t\treviews.value.reload()\n\t\t\thasReviewed.value.reload()\n\t\t},\n\t\tonError(err) {\n\t\t\tcreateToast({\n\t\t\t\ttext: err.messages?.[0] || err,\n\t\t\t\ticon: 'x',\n\t\t\t\ticonClasses: 'text-ink-red-4 bg-surface-red-4',\n\t\t\t})\n\t\t},\n\t})\n\tclose()\n}\n</script>\n","<template>\n\t<div v-if=\"reviews.data?.length || membership\" class=\"mt-20 mb-10\">\n\t\t<Button\n\t\t\tv-if=\"membership && !hasReviewed.data\"\n\t\t\t@click=\"openReviewModal()\"\n\t\t\tclass=\"float-right\"\n\t\t>\n\t\t\t{{ __('Write a Review') }}\n\t\t</Button>\n\t\t<div class=\"flex items-center font-semibold text-2xl text-ink-gray-9\">\n\t\t\t{{ __('Student Reviews') }}\n\t\t</div>\n\t\t<div class=\"grid gap-8 mt-10\">\n\t\t\t<div v-for=\"(review, index) in reviews.data\">\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<router-link\n\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\t\tparams: { username: review.owner_details.username },\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<UserAvatar :user=\"review.owner_details\" :size=\"'2xl'\" />\n\t\t\t\t\t</router-link>\n\t\t\t\t\t<div class=\"mx-4\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\t\t\tparams: { username: review.owner_details.username },\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"text-lg font-medium mr-4 text-ink-gray-7\">\n\t\t\t\t\t\t\t\t{{ review.owner_details.full_name }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<span class=\"text-ink-gray-7\">\n\t\t\t\t\t\t\t{{ review.creation }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class=\"flex mt-2\">\n\t\t\t\t\t\t\t<Star\n\t\t\t\t\t\t\t\tv-for=\"index in 5\"\n\t\t\t\t\t\t\t\tclass=\"h-5 w-5 text-ink-gray-2 rounded-sm mr-2\"\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tindex <= Math.ceil(review.rating)\n\t\t\t\t\t\t\t\t\t\t? 'fill-orange-500'\n\t\t\t\t\t\t\t\t\t\t: 'fill-gray-600'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"review.review\" class=\"mt-4 leading-5 text-ink-gray-7\">\n\t\t\t\t\t{{ review.review }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<ReviewModal\n\t\tv-model=\"showReviewModal\"\n\t\tv-model:reloadReviews=\"reviews\"\n\t\tv-model:hasReviewed=\"hasReviewed\"\n\t\t:courseName=\"courseName\"\n\t/>\n</template>\n<script setup>\nimport { Star } from 'lucide-vue-next'\nimport { createResource, Button } from 'frappe-ui'\nimport { computed, ref, inject } from 'vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport ReviewModal from '@/components/Modals/ReviewModal.vue'\n\nconst user = inject('$user')\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tavg_rating: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tmembership: {\n\t\ttype: Object,\n\t\trequired: false,\n\t},\n})\n\nconst hasReviewed = createResource({\n\turl: 'frappe.client.get_count',\n\tcache: ['eligible_to_review', props.courseName, props.membership?.member],\n\tparams: {\n\t\tdoctype: 'LMS Course Review',\n\t\tfilters: {\n\t\t\tcourse: props.courseName,\n\t\t\towner: props.membership?.member,\n\t\t},\n\t},\n\tauto: user.data?.name ? true : false,\n})\n\nconst reviews = createResource({\n\turl: 'lms.lms.utils.get_reviews',\n\tcache: ['course_reviews', props.courseName],\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: true,\n})\n\nconst showReviewModal = ref(false)\n\nfunction openReviewModal() {\n\tshowReviewModal.value = true\n}\n</script>\n","<template>\n\t<div v-if=\"course.data\">\n\t\t<!-- <header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t</header> -->\n\t\t<div style=\"display: flex; align-items: flex-start\">\n\t\t\t<div\n\t\t\t\tclass=\"m-5 \"\n\t\t\t\tstyle=\"\n                    padding: 50px;\n\t\t\t\t\tmargin: 0;\n                    height: 400px;\n\t\t\t\t\tbackground-color: #001931;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<div class=\"flex justify-between w-full\">\n\t\t\t\t\t<div class=\"md:w-2/3\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tv-if=\"parseInt(course.data.rating) > 0\"\n\t\t\t\t\t\t\t\t:text=\"__('Average Rating')\"\n\t\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Star class=\"h-5 w-5 text-gray-100 fill-orange-500\" />\n\t\t\t\t\t\t\t\t<span class=\"ml-1 text-ink-gray-7\">\n\t\t\t\t\t\t\t\t\t{{ course.data.rating }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t<span v-if=\"parseInt(course.data.rating) > 0\" class=\"mx-3\"\n\t\t\t\t\t\t\t\t>&middot;</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-4xl font-bold text-white\" style=\"font-size: 36px\">\n\t\t\t\t\t\t\t{{ course.data.title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"my-3 leading-6 text-white\">\n\t\t\t\t\t\t\t{{ course.data.short_introduction }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<span v-if=\"course.data.enrollment_count\" class=\"mx-3\"\n\t\t\t\t\t\t\t\t>&middot;</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center gap-8\">\n\t\t\t\t\t\t\t\t<!-- Instructor -->\n\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"h-6 mr-1\"\n\t\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t\t'avatar-group overlap':\n\t\t\t\t\t\t\t\t\t\t\t\tcourse.data.instructors.length > 1,\n\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<UserAvatar\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"instructor in course.data.instructors\"\n\t\t\t\t\t\t\t\t\t\t\t:user=\"instructor\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t<div class=\"e\">\n\t\t\t\t\t\t\t\t\t\t<div  style=\"  color: rgba(255,255,255,.7);\" class=\"text-sm\">Instructor</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-white\">\n\t\t\t\t\t\t\t\t\t\t\t<CourseInstructors\n\t\t\t\t\t\t\t\t\t\t\t\t:instructors=\"course.data.instructors\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Category -->\n\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\"w-6 h-6 text-gray-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<div style=\"color: rgba(255,255,255,.7);\" class=\"text-sm \">Category</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-white\">{{ course.data.category }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Students Enrolled -->\n\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\"w-6 h-6 text-gray-400\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t<div style=\"  color: rgba(255,255,255,.7);\" class=\"text-sm \">Students enrolled</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-white\">{{ course.data.enrollments }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tv-if=\"course.data.enrollment_count\"\n\t\t\t\t\t\t\t\t\t:text=\"__('Enrolled Students')\"\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Users class=\"h-4 w-4 text-ink-gray-7\" />\n\t\t\t\t\t\t\t\t\t<span class=\"ml-1\">\n\t\t\t\t\t\t\t\t\t\t{{ course.data.enrollment_count_formatted }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex mt-3 mb-4 w-fit\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\ttheme=\"gray\"\n\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\tclass=\"mr-2 text-ink-gray-9\"\n\t\t\t\t\t\t\t\tv-for=\"tag in course.data.tags\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ tag }}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CourseCardOverlay\n\t\t\t\t\t\t\t:course=\"course\"\n\t\t\t\t\t\t\tclass=\"md:hidden mb-4\"\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\t\theight: fit-content;\n\t\t\t\t\t\t\t\tjustify-items: end;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"hidden md:block\">\n\t\t\t\t\t\t<CourseCardOverlay\n\t\t\t\t\t\t\t:course=\"course\"\n\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\twidth: 60%;\n\t\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\t\theight: fit-content;\n\t\t\t\t\t\t\t\tjustify-items: end;\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"w-[60%] m-8 border shadow-md\">\n\t\t\t<div class=\"flex border-b\">\n\t\t\t\t<button\n\t\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t\t:key=\"tab.label\"\n\t\t\t\t\t@click=\"activeTab = tab.label\"\n\t\t\t\t\tclass=\"px-4 py-2 -mb-px transition-all duration-200 ease-in-out\"\n\t\t\t\t\t:class=\"[\n\t\t\t\t\t\tactiveTab === tab.label\n\t\t\t\t\t\t\t? 'border-b-2 border-orange-500 text-orange-600'\n\t\t\t\t\t\t\t: 'text-gray-600 hover:text-orange-500 hover:border-b-2 hover:border-orange-200',\n\t\t\t\t\t]\"\n\t\t\t\t>\n\t\t\t\t\t{{ tab.label }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"p-4\">\n\t\t\t\t<div v-if=\"course.data\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-show=\"activeTab === 'Description'\"\n\t\t\t\t\t\tv-html=\"course.data.description\"\n                        style=\"color: #4d5e6f;font-family: 'Open Sans', serif;font-size: 16px;\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div v-show=\"activeTab === 'Curriculum'\">\n\t\t\t\t\t\t<div class=\"mt-10\">\n\t\t\t\t\t\t\t<CourseOutline\n\t\t\t\t\t\t\t\t:title=\"__('Course Outline')\"\n\t\t\t\t\t\t\t\t:courseName=\"course.data.name\"\n\t\t\t\t\t\t\t\t:showOutline=\"true\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-show=\"activeTab === 'Reviews'\">\n\t\t\t\t\t<CourseReviews\n\t\t\t\t\t\t:courseName=\"course.data.name\"\n\t\t\t\t\t\t:avg_rating=\"course.data.rating\"\n\t\t\t\t\t\t:membership=\"course.data.membership\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n    <footer class=\"bg-[#273144] text-white flex flex-col items-center\">\n        <div class=\"max-w-7xl w-full p-10 grid grid-cols-3 gap-10\">\n            <div>\n                <h2 class=\"font-semibold mb-2\">ABOUT</h2>\n                <p class=\"text-sm leading-6\">\n                    In the digital age, coding is more than a skill—it’s a global language that unlocks innovation, creativity, and career opportunities. Recognizing this, Million Coders emerges as a pioneering for-profit community with a mission to democratize access to coding education.\n                </p>\n            </div>\n            <div>\n                <h2 class=\"font-semibold mb-2\">CONTACT</h2>\n                <p class=\"text-sm leading-6\">\n                    704, City Gate Tower, Al Ittihad Road, Sharjah, UAE\n                </p>\n                <p>\n                    Tel.: +971 6745 2556\n                </p>\n                <p><a href=\"mailto:info@millioncoders.org\">info@millioncoders.org</a></p>\n            </div>\n            <div>\n                <h2 class=\"font-semibold mb-2\">SOCIAL NETWORK</h2>\n            </div>\n        </div>\n    </footer>\n</template>\n<script setup>\nimport { createResource, Breadcrumbs, Badge, Tooltip } from 'frappe-ui'\nimport { computed, reactive, defineComponent, ref } from 'vue'\nimport { Users, Star } from 'lucide-vue-next'\nimport CourseCardOverlay from '@/components/CourseCardOverlay.vue'\nimport CourseOutline from '@/components/CourseOutline.vue'\nimport CourseReviews from '@/components/CourseReviews.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport { updateDocumentTitle } from '@/utils'\nimport CourseInstructors from '@/components/CourseInstructors.vue'\n\nconst activeTab = ref('Description')\n\nconst tabs = [\n\t{ label: 'Description' },\n\t{ label: 'Curriculum' },\n\t{ label: 'Reviews' },\n]\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst course = createResource({\n\turl: 'lms.lms.utils.get_course_details',\n\tcache: ['course', props.courseName],\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: true,\n})\n\nconst pageMeta = computed(() => {\n\treturn {\n\t\ttitle: course?.data?.title,\n\t\tdescription: course?.data?.short_introduction,\n\t}\n})\n\nupdateDocumentTitle(pageMeta)\n</script>\n\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');\n.avatar-group {\n\tdisplay: inline-flex;\n\talign-items: center;\n}\n\n.avatar-group .avatar {\n\ttransition: margin 0.1s ease-in-out;\n}\n\n/* Tab Labels */\n.tab-label {\n\tpadding: 10px 15px;\n\tcursor: pointer;\n\tborder: 1px solid #ddd;\n\tbackground-color: #f9f9f9;\n\tmargin-right: 5px;\n\tborder-radius: 4px 4px 0 0;\n}\n\n.tab-label.active {\n\tbackground-color: #fff;\n\tborder-bottom: 1px solid #fff;\n\t/* Remove border at the bottom for active tab */\n\tfont-weight: bold;\n}\n\n/* Tab Content */\n.tab-content {\n\tborder: 1px solid #ddd;\n\tpadding: 15px;\n\tborder-radius: 0 4px 4px 4px;\n\tbackground-color: #fff;\n}\n</style>\n"],"names":["router","useRouter","user","inject","props","__props","computed","enrollStudent","createResource","capture","showToast","is_instructor","user_is_instructor","instructor","_a","canGetCertificate","_c","_b","certificate","values","data","fetchCertificate","show","_useModel","reviews","hasReviewed","review","reactive","createReview","__spreadValues","submitReview","close","err","createToast","showReviewModal","ref","openReviewModal","activeTab","tabs","course","pageMeta","updateDocumentTitle"],"mappings":"oyEA+KA,MAAMA,EAASC,GAAS,EAClBC,EAAOC,EAAO,OAAO,EAErBC,EAAQC,EAOKC,EAAS,IACvBF,EAAM,OAAO,KAAK,WACd,iCAAmCA,EAAM,OAAO,KAAK,WAEtD,IACP,EAED,SAASG,GAAgB,CACnBL,EAAK,KAUqBM,EAAe,CAC5C,IAAK,iEACL,CAAA,EAEC,OAAO,CACP,OAAQJ,EAAM,OAAO,KAAK,IAC1B,CAAA,EACA,KAAK,IAAM,CACXK,GAAQ,qBAAsB,CAC7B,OAAQL,EAAM,OAAO,KAAK,IAC1B,CAAA,EACDM,EACC,GAAG,SAAS,EACZ,GAAG,uCAAuC,EAC1C,OACL,EACI,WAAW,IAAM,CAChBV,EAAO,KAAK,CACX,KAAM,SACN,OAAQ,CACP,WAAYI,EAAM,OAAO,KAAK,KAC9B,cAAe,EACf,aAAc,CACd,CACD,CAAA,CACN,EAAO,GAAI,CACP,CAAA,GAnCFM,EACC,GAAG,cAAc,EACjB,GAAG,mDAAmD,EACtD,cACH,EACE,WAAW,IAAM,CAChB,OAAO,SAAS,KAAO,sBAAsB,OAAO,SAAS,QAAQ,EACxE,EAAK,GAAI,EA8BT,CAEA,MAAMC,EAAgB,IAAM,CAC3B,IAAIC,EAAqB,GACzB,OAAAR,EAAM,OAAO,KAAK,YAAY,QAASS,GAAe,OACjD,CAACD,GAAsBC,EAAW,QAAQC,EAAAZ,EAAK,OAAL,YAAAY,EAAW,QACxDF,EAAqB,GAEtB,CAAA,EACMA,CACR,EAEMG,EAAoBT,EAAS,IAAM,WACxC,MACC,IAAAQ,EAAAV,EAAM,OAAO,OAAb,MAAAU,EAAmB,wBACnBE,GAAAC,EAAAb,EAAM,OAAO,OAAb,YAAAa,EAAmB,aAAnB,YAAAD,EAA+B,WAAY,IAK7C,CAAC,EAEKE,EAAcV,EAAe,CAClC,IAAK,qEACL,WAAWW,EAAQ,CAClB,MAAO,CACN,OAAQA,EAAO,MAClB,CACE,EACD,UAAUC,EAAM,CACf,OAAO,KACN,mFAAmFA,EAAK,IACvF,WAAU,mBAAmBA,EAAK,QAAQ,CAAC,GAC5C,QACH,CACE,CACF,CAAC,EAEKC,EAAmB,IAAM,SAC9BH,EAAY,OAAO,CAClB,QAAQJ,EAAAV,EAAM,OAAO,OAAb,YAAAU,EAAmB,KAC3B,QAAQG,EAAAf,EAAK,OAAL,YAAAe,EAAW,IACnB,CAAA,CACF,wqJC3OA,MAAMK,EAAOC,EAAYlB,EAAA,YAAA,EACnBmB,EAAUD,EAAWlB,EAAC,eAAe,EACrCoB,EAAcF,EAAYlB,EAAA,aAAa,EAE7C,IAAIqB,EAASC,GAAS,CACrB,OAAQ,GACR,OAAQ,CACT,CAAC,EAED,MAAMvB,EAAQC,EAORuB,EAAepB,EAAe,CACnC,IAAK,uBACL,WAAWW,EAAQ,CAClB,MAAO,CACN,IAAKU,EAAA,CACJ,QAAS,oBACT,OAAQzB,EAAM,YACXe,EAEP,CACE,CACF,CAAC,EACD,SAASW,EAAaC,EAAO,CAC5BL,EAAO,OAASA,EAAO,OAAS,EAChCE,EAAa,OAAOF,EAAQ,CAC3B,UAAW,CACV,GAAI,CAACA,EAAO,OACX,MAAO,wBAER,EACD,WAAY,CACXF,EAAQ,MAAM,OAAM,EACpBC,EAAY,MAAM,OAAM,CACxB,EACD,QAAQO,EAAK,OACZC,GAAY,CACX,OAAMnB,EAAAkB,EAAI,WAAJ,YAAAlB,EAAe,KAAMkB,EAC3B,KAAM,IACN,YAAa,iCACb,CAAA,CACD,CACD,CAAA,EACDD,EAAK,CACN,gmCClBA,MAAM7B,EAAOC,EAAO,OAAO,EAErBC,EAAQC,EAeRoB,EAAcjB,EAAe,CAClC,IAAK,0BACL,MAAO,CAAC,qBAAsBJ,EAAM,YAAYU,EAAAV,EAAM,aAAN,YAAAU,EAAkB,MAAM,EACxE,OAAQ,CACP,QAAS,oBACT,QAAS,CACR,OAAQV,EAAM,WACd,OAAOa,EAAAb,EAAM,aAAN,YAAAa,EAAkB,MACzB,CACD,EACD,KAAM,IAAAD,EAAAd,EAAK,OAAL,MAAAc,EAAW,KAClB,CAAC,EAEKQ,EAAUhB,EAAe,CAC9B,IAAK,4BACL,MAAO,CAAC,iBAAkBJ,EAAM,UAAU,EAC1C,OAAQ,CACP,OAAQA,EAAM,UACd,EACD,KAAM,EACP,CAAC,EAEK8B,EAAkBC,EAAI,EAAK,EAEjC,SAASC,GAAkB,CAC1BF,EAAgB,MAAQ,EACzB,g4ECwIA,MAAMG,EAAYF,EAAI,aAAa,EAE7BG,EAAO,CACZ,CAAE,MAAO,aAAe,EACxB,CAAE,MAAO,YAAc,EACvB,CAAE,MAAO,SAAW,CACrB,EAEMlC,EAAQC,EAORkC,EAAS/B,EAAe,CAC7B,IAAK,mCACL,MAAO,CAAC,SAAUJ,EAAM,UAAU,EAClC,OAAQ,CACP,OAAQA,EAAM,UACd,EACD,KAAM,EACP,CAAC,EAEKoC,EAAWlC,EAAS,IAAM,SAC/B,MAAO,CACN,OAAOQ,EAAAyB,GAAA,YAAAA,EAAQ,OAAR,YAAAzB,EAAc,MACrB,aAAaG,EAAAsB,GAAA,YAAAA,EAAQ,OAAR,YAAAtB,EAAc,kBAC7B,CACA,CAAC,EAED,OAAAwB,GAAoBD,CAAQ"}