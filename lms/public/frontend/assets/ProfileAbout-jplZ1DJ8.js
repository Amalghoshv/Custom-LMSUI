import{j as $,G as r,z as t,H as x,I as a,C as i,L as y,M,f as L,x as l,J as c,y as _,a5 as v,K as k,W as C}from"./frappe-ui-2-dobwEi.js";import{a2 as D,a4 as I,a5 as Y,a1 as B}from"./index-Dg_4Jaqk.js";const T={class:"mt-7 mb-10"},j={class:"mb-3 text-lg font-semibold text-ink-gray-9"},N=["innerHTML"],A={key:1,class:"text-ink-gray-7 text-sm italic"},S={key:0,class:"mt-7 mb-10"},V={class:"mb-3 text-lg font-semibold text-ink-gray-9"},z={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},H={class:"relative"},O=["src","alt"],P={key:0,class:"flex items-end bg-surface-gray-2 p-2 text-xs font-semibold rounded-full absolute right-0 bottom-0"},R={class:"w-[250px] text-base"},U=["src","alt"],q={class:"p-5"},E={class:"text-2xl font-semibold mb-2"},F={class:"leading-5 mb-4"},G={class:"flex flex-col mb-4"},J={class:"text-xs text-ink-gray-7 font-medium mb-1"},K={class:"flex flex-col"},W={class:"text-xs text-ink-gray-7 font-medium mb-1"},X={class:"flex items-center space-x-2"},Q={class:"text-xs"},Z={class:"text-xs"},se={__name:"ProfileAbout",props:{profile:{type:Object,required:!0}},setup(m){const p=L("$dayjs"),{branding:w}=D(),u=m,h=$({url:"frappe.client.get_list",params:{doctype:"LMS Badge Assignment",fields:["name","badge","badge_image","badge_description","issued_on"],filters:{member:u.profile.data.name}},auto:!0,transform(s){let d=[],o=Object.groupBy(s,({badge:e})=>e);for(let e in o){let n=o[e][0];n.count=o[e].length,d.push(n)}return d}}),g=(s,d)=>{var f,b;let o;const e=encodeURIComponent(`${window.location.origin}/lms/badges/${s.badge}/${(f=u.profile.data)==null?void 0:f.email}`),n=`I am happy to announce that I earned the ${s.badge} badge on ${p(s.issued_on).format("DD MMM YYYY")} at ${(b=w.data)==null?void 0:b.app_name}.`;d=="LinkedIn"?o=`https://www.linkedin.com/shareArticle?mini=true&url=${e}&text=${n}`:d=="Twitter"&&(o=`https://twitter.com/intent/tweet?text=${n}&url=${e}`),window.open(o,"_blank")};return(s,d)=>{var o;return l(),r(y,null,[t("div",T,[t("h2",j,a(s.__("About")),1),m.profile.data.bio?(l(),r("div",{key:0,innerHTML:m.profile.data.bio,class:"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal"},null,8,N)):(l(),r("div",A,a(s.__("No introduction")),1))]),(o=i(h).data)!=null&&o.length?(l(),r("div",S,[t("h2",V,a(s.__("Achievements")),1),t("div",z,[(l(!0),r(y,null,M(i(h).data,e=>(l(),r("div",null,[c(i(C),{trigger:"hover",leaveDelay:.01},{target:_(()=>[t("div",H,[t("img",{src:e.badge_image,alt:e.badge,class:"h-[80px]"},null,8,O),e.count>1?(l(),r("div",P,[t("span",null,[c(i(B),{class:"w-3 h-3"})]),v(" "+a(e.count),1)])):x("",!0)])]),"body-main":_(()=>[t("div",R,[t("img",{src:e.badge_image,alt:e.badge,class:"bg-surface-gray-2 rounded-t-md h-[200px] mx-auto"},null,8,U),t("div",q,[t("div",E,a(e.badge),1),t("div",F,a(e.badge_description),1),t("div",G,[t("span",J,a(s.__("Issued on"))+": ",1),v(" "+a(i(p)(e.issued_on).format("DD MMM YYYY")),1)]),t("div",K,[t("span",W,a(s.__("Share on"))+": ",1),t("div",X,[c(i(k),{variant:"outline",size:"sm",onClick:n=>g(e,"LinkedIn")},{prefix:_(()=>[c(i(I),{class:"h-3 w-3 text-ink-gray-7"})]),default:_(()=>[t("span",Q,a(s.__("LinkedIn")),1)]),_:2},1032,["onClick"]),c(i(k),{variant:"outline",size:"sm",onClick:n=>g(e,"Twitter")},{prefix:_(()=>[c(i(Y),{class:"h-3 w-3 text-ink-gray-7"})]),default:_(()=>[t("span",Z,a(s.__("Twitter")),1)]),_:2},1032,["onClick"])])])])])]),_:2},1032,["leaveDelay"])]))),256))])])):x("",!0)],64)}}};export{se as default};
//# sourceMappingURL=ProfileAbout-jplZ1DJ8.js.map
