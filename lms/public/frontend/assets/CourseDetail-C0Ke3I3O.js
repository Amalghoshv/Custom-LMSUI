var J=Object.defineProperty;var I=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var O=(o,c,l)=>c in o?J(o,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[c]=l,U=(o,c)=>{for(var l in c||(c={}))X.call(c,l)&&O(o,l,c[l]);if(I)for(var l of I(c))Z.call(c,l)&&O(o,l,c[l]);return o};import{ab as ee,F as te,f as P,d as L,j as C,ay as G,G as v,x as n,z as e,H as p,I as i,A as se,B as z,v as b,y as h,J as d,C as t,K as $,a5 as w,au as F,aq as ae,ar as M,a as oe,aI as re,q as ie,r as W,L as k,M as S,i as A,D,N as V,O as j,Q as ne}from"./frappe-ui-2-dobwEi.js";import{B as q,U as K,f as le,S as B,C as de,V as ue,c as ce,R as me,s as E,d as fe,e as ve,b as _e}from"./index-Dg_4Jaqk.js";import{_ as ge}from"./CourseOutline-B8iPR3UL.js";import{_ as Q}from"./UserAvatar-B6Y_HQLv.js";import{_ as he}from"./Rating-Q1BiCrZ4.js";import{_ as pe}from"./CourseInstructors-EkUm29JR.js";import"./vuedraggable.umd-xDJT7alU.js";const xe={class:"border-2 rounded-md min-w-[23rem] course-start-div"},be={key:0,class:"image-placeholder"},ye={class:"p-5"},we={key:0,class:"text-2xl font-semibold mb-3"},ke={key:3,class:"bg-surface-blue-2 text-blue-900 text-sm rounded-md py-1 px-3"},$e={class:"space-y-4"},Ce={class:"mt-8 font-medium text-ink-gray-9"},Re={class:"flex items-center text-ink-gray-9"},Ne={class:"ml-2"},Se={class:"flex items-center text-ink-gray-9"},ze={class:"ml-2"},Me={key:0,class:"flex items-center text-ink-gray-9"},Ve={class:"ml-2"},je={class:"space-y-6 mt-4"},Le={class:"space-y-4"},Be={class:"flex justify-between items-center border-b border-gray-200 pb-2"},Te={class:"flex items-center text-sm font-medium text-gray-700"},Ie={class:"flex justify-between items-center border-b border-gray-200 pb-2"},Oe={class:"flex items-center text-sm font-medium text-gray-700"},Ue={class:"flex justify-between items-center border-b border-gray-200 pb-2"},Ae={class:"flex items-center text-sm font-medium text-gray-700"},De={class:"flex justify-between items-center border-b border-gray-200 pb-2"},qe={class:"flex items-center text-sm font-medium text-gray-700"},Ee={class:"flex justify-between items-center border-b border-gray-200 pb-2"},He={class:"flex items-center text-sm font-medium text-gray-700"},Pe={__name:"CourseCardOverlay",props:{course:{type:Object,default:null}},setup(o){const c=te(),l=P("$user"),f=o;L(()=>f.course.data.video_link?"https://www.youtube.com/embed/"+f.course.data.video_link:null);function a(){l.data?C({url:"lms.lms.doctype.lms_enrollment.lms_enrollment.create_membership"}).submit({course:f.course.data.name}).then(()=>{fe("enrolled_in_course",{course:f.course.data.name}),E(__("Success"),__("You have been enrolled in this course"),"check"),setTimeout(()=>{c.push({name:"Lesson",params:{courseName:f.course.data.name,chapterNumber:1,lessonNumber:1}})},2e3)}):(E(__("Please Login"),__("You need to login first to enroll for this course"),"alert-circle"),setTimeout(()=>{window.location.href=`/login?redirect-to=${window.location.pathname}`},2e3))}const y=()=>{let r=!1;return f.course.data.instructors.forEach(s=>{var _;!r&&s.name==((_=l.data)==null?void 0:_.name)&&(r=!0)}),r},x=L(()=>{var r,s,_;return!!((r=f.course.data)!=null&&r.enable_certification&&((_=(s=f.course.data)==null?void 0:s.membership)==null?void 0:_.progress)==100)}),u=C({url:"lms.lms.doctype.lms_certificate.lms_certificate.create_certificate",makeParams(r){return{course:r.course}},onSuccess(r){window.open(`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${r.name}&format=${encodeURIComponent(r.template)}`,"_blank")}}),m=()=>{var r,s;u.submit({course:(r=f.course.data)==null?void 0:r.name,member:(s=l.data)==null?void 0:s.name})};return(r,s)=>{var R,N,g;const _=G("router-link");return n(),v("div",xe,[e("div",{class:z(["course-image rounded-sm",{"default-image":!o.course.data.image}]),style:se({backgroundImage:"url('"+encodeURI(o.course.data.image)+"')"})},[o.course.data.image?p("",!0):(n(),v("div",be,i(((R=o.course.data.title)==null?void 0:R[0])||"C"),1))],6),e("div",ye,[o.course.data.price?(n(),v("div",we,i(o.course.data.price),1)):p("",!0),o.course.data.membership?(n(),b(_,{key:1,to:{name:"Lesson",params:{courseName:o.course.name,chapterNumber:o.course.data.current_lesson?o.course.data.current_lesson.split("-")[0]:1,lessonNumber:o.course.data.current_lesson?o.course.data.current_lesson.split("-")[1]:1}}},{default:h(()=>[d(t($),{variant:"solid",size:"lg",class:"w-full orange-btn"},{default:h(()=>[e("span",null,i(r.__("Continue Learning")),1)]),_:1})]),_:1},8,["to"])):o.course.data.paid_course?(n(),b(_,{key:2,to:{name:"Billing",params:{type:"course",name:o.course.data.name}}},{default:h(()=>[d(t($),{variant:"solid",size:"md",class:"w-full"},{default:h(()=>[e("span",null,i(r.__("Buy this course")),1)]),_:1})]),_:1},8,["to"])):o.course.data.disable_self_learning?(n(),v("div",ke,i(r.__("Contact the Administrator to enroll for this course.")),1)):(n(),b(t($),{key:4,onClick:s[0]||(s[0]=T=>a()),variant:"solid",class:"w-full",size:"md"},{default:h(()=>[e("span",null,i(r.__("Start Course")),1)]),_:1})),x.value?(n(),b(t($),{key:5,onClick:s[1]||(s[1]=T=>m()),variant:"subtle",class:"w-full mt-2",size:"md"},{default:h(()=>[w(i(r.__("Get Certificate")),1)]),_:1})):p("",!0),(g=(N=t(l))==null?void 0:N.data)!=null&&g.is_moderator||y()?(n(),b(_,{key:6,to:{name:"CourseForm",params:{courseName:o.course.data.name}}},{default:h(()=>[d(t($),{variant:"subtle",class:"w-full mt-2",size:"md"},{default:h(()=>[e("span",null,i(r.__("Edit")),1)]),_:1})]),_:1},8,["to"])):p("",!0),e("div",$e,[s[13]||(s[13]=F('<div class="flex justify-between mb-8" data-v-694eed2e><button class="flex items-center gap-2 text-gray-600 hover:text-gray-900" data-v-694eed2e><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-694eed2e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" data-v-694eed2e></path></svg> Add to wishlist </button><button class="flex items-center gap-2 text-gray-600 hover:text-gray-900" data-v-694eed2e><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-694eed2e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" data-v-694eed2e></path></svg> Share </button></div>',1)),e("div",Ce,i(r.__("This course has:")),1),e("div",Re,[d(t(q),{class:"h-4 w-4 stroke-1.5"}),e("span",Ne,i(o.course.data.lessons)+" "+i(r.__("Lessons")),1)]),e("div",Se,[d(t(K),{class:"h-4 w-4 stroke-1.5"}),e("span",ze,i(t(le)(o.course.data.enrollments))+" "+i(r.__("Enrolled Students")),1)]),parseInt(o.course.data.rating)>0?(n(),v("div",Me,[d(t(B),{class:"h-4 w-4 stroke-1.5 fill-orange-500 text-gray-50"}),e("span",Ve,i(o.course.data.rating)+" "+i(r.__("Rating")),1)])):p("",!0),e("div",je,[s[12]||(s[12]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Course details",-1)),e("div",Le,[e("div",Be,[e("h4",Te,[d(t(de),{class:"w-5 h-5 mr-2"}),s[2]||(s[2]=w(" Duration "))]),s[3]||(s[3]=e("h4",{class:"text-sm font-medium text-gray-700"},"14 Hours",-1))]),e("div",Ie,[e("h4",Oe,[d(t(q),{class:"w-5 h-5 mr-2"}),s[4]||(s[4]=w(" Lectures "))]),s[5]||(s[5]=e("h4",{class:"text-sm font-medium text-gray-700"},"18",-1))]),e("div",Ue,[e("h4",Ae,[d(t(ue),{class:"w-5 h-5 mr-2"}),s[6]||(s[6]=w(" Video "))]),s[7]||(s[7]=e("h4",{class:"text-sm font-medium text-gray-700"},"8 Hours",-1))]),e("div",De,[e("h4",qe,[d(t(ce),{class:"w-5 h-5 mr-2"}),s[8]||(s[8]=w(" Quizzes "))]),s[9]||(s[9]=e("h4",{class:"text-sm font-medium text-gray-700"},"9",-1))]),e("div",Ee,[e("h4",He,[d(t(me),{class:"w-5 h-5 mr-2"}),s[10]||(s[10]=w(" Level "))]),s[11]||(s[11]=e("h4",{class:"text-sm font-medium text-gray-700"},"Beginner",-1))])])])])])])}}},H=ee(Pe,[["__scopeId","data-v-694eed2e"]]),Ge={class:"flex flex-col gap-4"},Fe={class:"mb-1.5 text-sm text-ink-gray-5"},We={class:"mb-1.5 text-sm text-ink-gray-5"},Ke={__name:"ReviewModal",props:ae({courseName:{type:String,required:!0}},{modelValue:{},modelModifiers:{},reloadReviews:{},reloadReviewsModifiers:{},hasReviewed:{},hasReviewedModifiers:{}}),emits:["update:modelValue","update:reloadReviews","update:hasReviewed"],setup(o){const c=M(o,"modelValue"),l=M(o,"reloadReviews"),f=M(o,"hasReviewed");let a=oe({review:"",rating:0});const y=o,x=C({url:"frappe.client.insert",makeParams(m){return{doc:U({doctype:"LMS Course Review",course:y.courseName},m)}}});function u(m){a.rating=a.rating/5,x.submit(a,{validate(){if(!a.rating)return"Please enter a rating."},onSuccess(){l.value.reload(),f.value.reload()},onError(r){var s;ve({text:((s=r.messages)==null?void 0:s[0])||r,icon:"x",iconClasses:"text-ink-red-4 bg-surface-red-4"})}}),m()}return(m,r)=>(n(),b(t(ie),{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=s=>c.value=s),options:{title:m.__("Write a Review"),size:"xl",actions:[{label:"Submit",variant:"solid",onClick:s=>u(s)}]}},{"body-content":h(()=>[e("div",Ge,[e("div",null,[e("div",Fe,i(m.__("Rating")),1),d(he,{modelValue:t(a).rating,"onUpdate:modelValue":r[0]||(r[0]=s=>t(a).rating=s)},null,8,["modelValue"])]),e("div",null,[e("div",We,i(m.__("Review")),1),d(t(re),{type:"text",size:"md",rows:"5",modelValue:t(a).review,"onUpdate:modelValue":r[1]||(r[1]=s=>t(a).review=s)},null,8,["modelValue"])])])]),_:1},8,["modelValue","options"]))}},Qe={key:0,class:"mt-20 mb-10"},Ye={class:"flex items-center font-semibold text-2xl text-ink-gray-9"},Je={class:"grid gap-8 mt-10"},Xe={class:"flex items-center"},Ze={class:"mx-4"},et={class:"text-lg font-medium mr-4 text-ink-gray-7"},tt={class:"text-ink-gray-7"},st={class:"flex mt-2"},at={key:0,class:"mt-4 leading-5 text-ink-gray-7"},ot={__name:"CourseReviews",props:{courseName:{type:String,required:!0},avg_rating:{type:String,required:!0},membership:{type:Object,required:!1}},setup(o){var u,m,r;const c=P("$user"),l=o,f=C({url:"frappe.client.get_count",cache:["eligible_to_review",l.courseName,(u=l.membership)==null?void 0:u.member],params:{doctype:"LMS Course Review",filters:{course:l.courseName,owner:(m=l.membership)==null?void 0:m.member}},auto:!!((r=c.data)!=null&&r.name)}),a=C({url:"lms.lms.utils.get_reviews",cache:["course_reviews",l.courseName],params:{course:l.courseName},auto:!0}),y=W(!1);function x(){y.value=!0}return(s,_)=>{var N;const R=G("router-link");return n(),v(k,null,[(N=t(a).data)!=null&&N.length||o.membership?(n(),v("div",Qe,[o.membership&&!t(f).data?(n(),b(t($),{key:0,onClick:_[0]||(_[0]=g=>x()),class:"float-right"},{default:h(()=>[w(i(s.__("Write a Review")),1)]),_:1})):p("",!0),e("div",Ye,i(s.__("Student Reviews")),1),e("div",Je,[(n(!0),v(k,null,S(t(a).data,(g,T)=>(n(),v("div",null,[e("div",Xe,[d(R,{to:{name:"Profile",params:{username:g.owner_details.username}}},{default:h(()=>[d(Q,{user:g.owner_details,size:"2xl"},null,8,["user"])]),_:2},1032,["to"]),e("div",Ze,[d(R,{to:{name:"Profile",params:{username:g.owner_details.username}}},{default:h(()=>[e("span",et,i(g.owner_details.full_name),1)]),_:2},1032,["to"]),e("span",tt,i(g.creation),1),e("div",st,[(n(),v(k,null,S(5,Y=>d(t(B),{class:z(["h-5 w-5 text-ink-gray-2 rounded-sm mr-2",Y<=Math.ceil(g.rating)?"fill-orange-500":"fill-gray-600"])},null,8,["class"])),64))])])]),g.review?(n(),v("div",at,i(g.review),1)):p("",!0)]))),256))])])):p("",!0),d(Ke,{modelValue:y.value,"onUpdate:modelValue":_[1]||(_[1]=g=>y.value=g),reloadReviews:t(a),"onUpdate:reloadReviews":_[2]||(_[2]=g=>A(a)?a.value=g:null),hasReviewed:t(f),"onUpdate:hasReviewed":_[3]||(_[3]=g=>A(f)?f.value=g:null),courseName:o.courseName},null,8,["modelValue","reloadReviews","hasReviewed","courseName"])],64)}}},rt={key:0},it={style:{display:"flex","align-items":"flex-start"}},nt={class:"m-5",style:{padding:"50px",margin:"0",height:"400px","background-color":"#001931",width:"100%","box-sizing":"border-box"}},lt={class:"flex justify-between w-full"},dt={class:"md:w-2/3"},ut={class:"ml-1 text-ink-gray-7"},ct={key:1,class:"mx-3"},mt={class:"text-4xl font-bold text-white",style:{"font-size":"36px"}},ft={class:"my-3 leading-6 text-white"},vt={class:"flex items-center"},_t={key:0,class:"mx-3"},gt={class:"flex items-center gap-8"},ht={class:"flex items-center gap-3"},pt={class:"e"},xt={class:"font-medium text-white"},bt={class:"flex items-center gap-2"},yt={class:""},wt={class:"font-medium text-white"},kt={class:"flex items-center gap-2"},$t={class:""},Ct={class:"font-medium text-white"},Rt={class:"ml-1"},Nt={class:"flex mt-3 mb-4 w-fit"},St={class:"hidden md:block"},zt={class:"w-[60%] m-8 border shadow-md"},Mt={class:"flex border-b"},Vt=["onClick"],jt={class:"p-4"},Lt={key:0},Bt=["innerHTML"],Tt={class:"mt-10"},Pt={__name:"CourseDetail",props:{courseName:{type:String,required:!0}},setup(o){const c=W("Description"),l=[{label:"Description"},{label:"Curriculum"},{label:"Reviews"}],f=o,a=C({url:"lms.lms.utils.get_course_details",cache:["course",f.courseName],params:{course:f.courseName},auto:!0}),y=L(()=>{var x,u;return{title:(x=a==null?void 0:a.data)==null?void 0:x.title,description:(u=a==null?void 0:a.data)==null?void 0:u.short_introduction}});return _e(y),(x,u)=>(n(),v(k,null,[t(a).data?(n(),v("div",rt,[e("div",it,[e("div",nt,[e("div",lt,[e("div",dt,[e("div",null,[parseInt(t(a).data.rating)>0?(n(),b(t(D),{key:0,text:x.__("Average Rating"),class:"flex items-center"},{default:h(()=>[d(t(B),{class:"h-5 w-5 text-gray-100 fill-orange-500"}),e("span",ut,i(t(a).data.rating),1)]),_:1},8,["text"])):p("",!0),parseInt(t(a).data.rating)>0?(n(),v("span",ct,"·")):p("",!0)]),e("div",mt,i(t(a).data.title),1),e("div",ft,i(t(a).data.short_introduction),1),e("div",vt,[t(a).data.enrollment_count?(n(),v("span",_t,"·")):p("",!0)]),e("div",null,[u[5]||(u[5]=e("div",{class:"flex items-center"},null,-1)),e("div",gt,[e("div",ht,[e("span",{class:z(["h-6 mr-1",{"avatar-group overlap":t(a).data.instructors.length>1}])},[(n(!0),v(k,null,S(t(a).data.instructors,m=>(n(),b(Q,{user:m},null,8,["user"]))),256))],2),e("div",pt,[u[0]||(u[0]=e("div",{style:{color:"rgba(255,255,255,.7)"},class:"text-sm"},"Instructor",-1)),e("div",xt,[d(pe,{instructors:t(a).data.instructors},null,8,["instructors"])])])]),e("div",bt,[u[2]||(u[2]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),e("div",yt,[u[1]||(u[1]=e("div",{style:{color:"rgba(255,255,255,.7)"},class:"text-sm"},"Category",-1)),e("div",wt,i(t(a).data.category),1)])]),e("div",kt,[u[4]||(u[4]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("div",$t,[u[3]||(u[3]=e("div",{style:{color:"rgba(255,255,255,.7)"},class:"text-sm"},"Students enrolled",-1)),e("div",Ct,i(t(a).data.enrollments),1)])])]),e("div",null,[t(a).data.enrollment_count?(n(),b(t(D),{key:0,text:x.__("Enrolled Students"),class:"flex items-center"},{default:h(()=>[d(t(K),{class:"h-4 w-4 text-ink-gray-7"}),e("span",Rt,i(t(a).data.enrollment_count_formatted),1)]),_:1},8,["text"])):p("",!0)])]),e("div",Nt,[(n(!0),v(k,null,S(t(a).data.tags,m=>(n(),b(t(ne),{theme:"gray",size:"lg",class:"mr-2 text-ink-gray-9"},{default:h(()=>[w(i(m),1)]),_:2},1024))),256))]),d(H,{course:t(a),class:"md:hidden mb-4",style:{padding:"20px","box-sizing":"border-box",height:"fit-content","justify-items":"end"}},null,8,["course"])]),e("div",St,[d(H,{course:t(a),style:{width:"60%",padding:"20px","box-sizing":"border-box",height:"fit-content","justify-items":"end"}},null,8,["course"])])])])]),e("div",zt,[e("div",Mt,[(n(),v(k,null,S(l,m=>e("button",{key:m.label,onClick:r=>c.value=m.label,class:z(["px-4 py-2 -mb-px transition-all duration-200 ease-in-out",[c.value===m.label?"border-b-2 border-orange-500 text-orange-600":"text-gray-600 hover:text-orange-500 hover:border-b-2 hover:border-orange-200"]])},i(m.label),11,Vt)),64))]),e("div",jt,[t(a).data?(n(),v("div",Lt,[V(e("div",{innerHTML:t(a).data.description,style:{color:"#4d5e6f","font-family":"'Open Sans', serif","font-size":"16px"}},null,8,Bt),[[j,c.value==="Description"]]),V(e("div",null,[e("div",Tt,[d(ge,{title:x.__("Course Outline"),courseName:t(a).data.name,showOutline:!0},null,8,["title","courseName"])])],512),[[j,c.value==="Curriculum"]])])):p("",!0),V(e("div",null,[d(ot,{courseName:t(a).data.name,avg_rating:t(a).data.rating,membership:t(a).data.membership},null,8,["courseName","avg_rating","membership"])],512),[[j,c.value==="Reviews"]])])])])):p("",!0),u[6]||(u[6]=F('<footer class="bg-[#273144] text-white flex flex-col items-center"><div class="max-w-7xl w-full p-10 grid grid-cols-3 gap-10"><div><h2 class="font-semibold mb-2">ABOUT</h2><p class="text-sm leading-6"> In the digital age, coding is more than a skill—it’s a global language that unlocks innovation, creativity, and career opportunities. Recognizing this, Million Coders emerges as a pioneering for-profit community with a mission to democratize access to coding education. </p></div><div><h2 class="font-semibold mb-2">CONTACT</h2><p class="text-sm leading-6"> 704, City Gate Tower, Al Ittihad Road, Sharjah, UAE </p><p> Tel.: +971 6745 2556 </p><p><a href="mailto:info@millioncoders.org">info@millioncoders.org</a></p></div><div><h2 class="font-semibold mb-2">SOCIAL NETWORK</h2></div></div></footer>',1))],64))}};export{Pt as default};
//# sourceMappingURL=CourseDetail-C0Ke3I3O.js.map
