var B=Object.defineProperty,D=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var k=(o,t,n)=>t in o?B(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,b=(o,t)=>{for(var n in t||(t={}))I.call(t,n)&&k(o,n,t[n]);if(w)for(var n of w(t))q.call(t,n)&&k(o,n,t[n]);return o},x=(o,t)=>D(o,L(t));import{r as V,s as z,f as N,F as M,w as S,d as _,at as U,G as v,z as d,J as l,C as a,aG as G,y,K as C,a5 as F,I as f,ay as E,v as H,H as J,P as R,R as K,L as Y,x as g}from"./frappe-ui-2-dobwEi.js";import{P as O,ac as Q}from"./index-Dg_4Jaqk.js";const W={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},X={class:"md:w-3/4 md:mx-auto py-5 mx-5"},Z={class:"grid grid-cols-3 gap-5 mb-5"},ee={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},te={class:"text-xl font-medium"},se={class:"leading-5"},ae={key:2,class:"flex justify-center my-5"},re={__name:"Assignments",setup(o){const t=N("$user"),n=N("$dayjs"),r=V(""),i=V(""),c=M();z(()=>{var s,e;!((s=t.data)!=null&&s.is_moderator)&&!((e=t.data)!=null&&e.is_instructor)&&c.push({name:"Courses"}),r.value=c.currentRoute.value.query.title,i.value=c.currentRoute.value.query.type}),S([r,i],()=>{c.push({query:{title:r.value,type:i.value}}),T()});const T=()=>{u.update({filters:$.value}),u.reload()},$=_(()=>{var e,p;let s={};return r.value&&(s.title=["like",`%${r.value}%`]),i.value&&(s.type=i.value),(e=t.data)!=null&&e.is_moderator||(s.owner=(p=t.data)==null?void 0:p.email),s}),u=U({doctype:"LMS Assignment",fields:["name","title","type","creation"],orderBy:"modified desc",cache:["assignments"],transform(s){return s.map(e=>x(b({},e),{creation:n(e.creation).fromNow()}))}}),A=_(()=>[{label:__("Title"),key:"title",width:2},{label:__("Type"),key:"type",width:1,align:"left"},{label:__("Created"),key:"creation",width:1,align:"center"}]),P=_(()=>["","Document","Image","PDF","URL","Text"].map(e=>({label:__(e),value:e}))),j=_(()=>[{label:"Assignments",route:{name:"Assignments"}}]);return(s,e)=>{var h;const p=E("router-link");return g(),v(Y,null,[d("header",W,[l(a(G),{items:j.value},null,8,["items"]),l(p,{to:{name:"AssignmentForm",params:{assignmentID:"new"}}},{default:y(()=>[l(a(C),{variant:"solid"},{prefix:y(()=>[l(a(O),{class:"w-4 h-4"})]),default:y(()=>[F(" "+f(s.__("New")),1)]),_:1})]),_:1})]),d("div",X,[d("div",Z,[l(a(R),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=m=>r.value=m),placeholder:s.__("Search by title")},null,8,["modelValue","placeholder"]),l(a(R),{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=m=>i.value=m),type:"select",options:P.value,placeholder:s.__("Type")},null,8,["modelValue","options","placeholder"])]),(h=a(u).data)!=null&&h.length?(g(),H(a(K),{key:0,columns:A.value,rows:a(u).data,"row-key":"name",options:{showTooltip:!1,selectable:!1,getRowRoute:m=>({name:"AssignmentForm",params:{assignmentID:m.name}})}},null,8,["columns","rows","options"])):(g(),v("div",ee,[l(a(Q),{class:"size-10 mx-auto stroke-1 text-ink-gray-4"}),d("div",te,f(s.__("No assignments found")),1),d("div",se,f(s.__('You have not created any assignments yet. To create a new assignment, click on the "New" button above.')),1)])),a(u).data&&a(u).hasNextPage?(g(),v("div",ae,[l(a(C),{onClick:e[2]||(e[2]=m=>a(u).next())},{default:y(()=>[F(f(s.__("Load More")),1)]),_:1})])):J("",!0)])],64)}}};export{re as default};
//# sourceMappingURL=Assignments-CjeDnzpU.js.map
