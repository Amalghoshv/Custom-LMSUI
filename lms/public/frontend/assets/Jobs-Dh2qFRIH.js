import{f as $,G as m,x as r,J as s,z as e,C as a,as as F,I as l,r as b,s as T,j as N,d as j,v as k,H as P,aG as B,y as u,a5 as S,K as M,P as w,L as z,M as D,ay as L}from"./frappe-ui-2-dobwEi.js";import{a8 as U,a9 as G,aa as I,o as O,b as R,P as q,ab as A}from"./index-Dg_4Jaqk.js";const E={class:"flex space-x-4 border rounded-md p-2"},H={class:"flex flex-col space-y-2 flex-1"},K={class:"flex items-center justify-between"},Q={class:"font-semibold text-ink-gray-9"},W={class:"flex items-center space-x-2 text-ink-gray-5"},X={class:"flex items-center space-x-2 text-ink-gray-5"},Y={class:"flex items-center space-x-2 text-ink-gray-5"},Z={class:"flex items-center space-x-2 text-ink-gray-5"},ee={__name:"JobCard",props:{job:{type:Object,default:null}},setup(o){const f=$("$dayjs");return(n,i)=>(r(),m("div",E,[s(a(F),{image:o.job.company_logo,label:o.job.job_title,size:"2xl"},null,8,["image","label"]),e("div",H,[e("div",K,[e("span",Q,l(o.job.job_title),1)]),e("div",W,[s(a(U),{class:"w-4 h-4 stroke-1.5"}),e("span",null,l(o.job.company_name),1)]),e("div",X,[s(a(G),{class:"w-4 h-4 stroke-1.5"}),e("span",null,l(o.job.location),1)]),e("div",Y,[s(a(I),{class:"w-4 h-4 stroke-1.5"}),e("span",null,l(o.job.type),1)]),e("div",Z,[s(a(O),{class:"w-4 h-4 stroke-1.5"}),e("span",null,l(n.__("posted"))+" "+l(a(f)(o.job.creation).fromNow()),1)])])]))}},ae={class:""},se={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},te={class:"lg:w-3/4 mx-auto p-5"},le={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:items-center justify-between mb-5"},oe={class:"text-xl text-ink-gray-9 font-semibold"},ne={class:"grid grid-cols-2 gap-2"},ie={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},ce={key:1,class:"text-ink-gray-7 italic p-5 w-fit mx-auto"},ue={__name:"Jobs",setup(o){const f=$("$user"),n=b(null),i=b(""),d=b({}),v=b({});T(()=>{let t=new URLSearchParams(location.search);t.has("type")&&(n.value=t.get("type")),y()});const p=N({url:"lms.lms.api.get_job_opportunities",cache:["jobs"]}),y=()=>{C(),p.update({params:{filters:d.value,orFilters:v.value}}),p.reload()},C=()=>{d.value.status="Open",d.value.disabled=0,n.value?d.value.type=n.value:delete d.value.type,i.value?v.value={job_title:["like",`%${i.value}%`],company_name:["like",`%${i.value}%`],location:["like",`%${i.value}%`]}:v.value={}},J=j(()=>["",{label:__("Full Time"),value:"Full Time"},{label:__("Part Time"),value:"Part Time"},{label:__("Contract"),value:"Contract"},{label:__("Freelance"),value:"Freelance"}]),V=j(()=>({title:"Jobs",description:"An open job board for the community"}));return R(V),(t,_)=>{var x,g;const h=L("router-link");return r(),m("div",ae,[e("header",se,[s(a(B),{class:"h-7",items:[{label:t.__("Jobs"),route:{name:"Jobs"}}]},null,8,["items"]),(x=a(f).data)!=null&&x.name?(r(),k(h,{key:0,to:{name:"JobCreation",params:{jobName:"new"}}},{default:u(()=>[s(a(M),{variant:"solid"},{prefix:u(()=>[s(a(q),{class:"h-4 w-4"})]),default:u(()=>[S(" "+l(t.__("New Job")),1)]),_:1})]),_:1})):P("",!0)]),e("div",null,[e("div",te,[e("div",le,[e("div",oe,l(t.__("Find the perfect job for you")),1),e("div",ne,[s(a(w),{type:"text",placeholder:t.__("Search"),modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=c=>i.value=c),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:y},{prefix:u(()=>[s(a(A),{class:"w-4 h-4 stroke-1.5 text-ink-gray-5",name:"search"})]),_:1},8,["placeholder","modelValue"]),s(a(w),{modelValue:n.value,"onUpdate:modelValue":_[1]||(_[1]=c=>n.value=c),type:"select",options:J.value,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",placeholder:t.__("Type"),onChange:y},null,8,["modelValue","options","placeholder"])])]),(g=a(p).data)!=null&&g.length?(r(),m("div",ie,[(r(!0),m(z,null,D(a(p).data,c=>(r(),k(h,{to:{name:"JobDetail",params:{job:c.name}},key:c.name},{default:u(()=>[s(ee,{job:c},null,8,["job"])]),_:2},1032,["to"]))),128))])):(r(),m("div",ce,l(t.__("No jobs posted")),1))])])])}}};export{ue as default};
//# sourceMappingURL=Jobs-Dh2qFRIH.js.map
